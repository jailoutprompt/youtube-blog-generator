<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>í•œì¼ì—°ì•  â€” ì†Œê°œíŒ… ë§¤ì¹­</title>
  
  <!-- Pretendard í°íŠ¸ -->
  <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }
    
    body {
      font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
      background-color: #FFFDF8;
      text-align: center;
      padding-bottom: 100px;
    }
    
    /* ë…¸ì…˜ í˜ì´ì§€ ì»¨í…Œì´ë„ˆ */
    .notion-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      overflow: auto;
      z-index: 1;
      padding-bottom: 150px;
      background-color: #FFFDF8;
    }
    
    .notion-embed {
      width: 100%;
      min-height: 100vh;
      border: none;
      background: transparent;
      display: block;
    }
    
    /* ë…¸ì…˜ í˜ì´ì§€ ëŒ€ì²´ í™”ë©´ */
    .notion-fallback {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 40px 20px;
      background-color: #FFFDF8;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    
    .notion-fallback-btn {
      display: inline-block;
      padding: 20px 40px;
      background-color: #000000;
      color: #FFFFFF;
      font-size: 20px;
      font-weight: 600;
      text-decoration: none;
      border-radius: 12px;
      transition: all 0.3s ease;
      margin-top: 20px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }
    
    .notion-fallback-btn:hover {
      background-color: #333333;
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
    }
    
    .notion-fallback-text {
      color: #666;
      font-size: 18px;
      margin-bottom: 10px;
      font-weight: 600;
    }
    
    .notion-fallback-subtext {
      color: #999;
      font-size: 14px;
    }
    
    /* ì¹´ì¹´ì˜¤í†¡ ì±„ë„ ë²„íŠ¼ (ìš°ì¸¡ í•˜ë‹¨ ê³ ì •) */
    .kakao-channel-btn {
      position: fixed;
      bottom: 120px;
      right: 20px;
      width: 60px;
      height: 60px;
      background-color: #FEE500;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      cursor: pointer;
      z-index: 9998;
      transition: transform 0.2s ease;
      text-decoration: none;
      border: none;
    }
    
    .kakao-channel-btn:hover {
      transform: scale(1.05);
    }
    
    .kakao-channel-btn:active {
      transform: scale(0.95);
    }
    
    .kakao-channel-icon {
      font-size: 24px;
      font-weight: bold;
      color: #3C1E1E;
      line-height: 1;
    }
    
    /* CTA ë²„íŠ¼ (í•˜ë‹¨ ê³ ì •) */
    .cta-bottom-btn {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      width: 100%;
      padding: 20px;
      background-color: #FFFFFF;
      border-top: 3px solid #FFD966;
      text-align: center;
      z-index: 9999;
      box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
    }
    
    .cta-bottom-btn a {
      display: inline-block;
      padding: 16px 32px;
      background-color: #FFFFFF;
      color: #1A1A1A;
      font-size: 18px;
      font-weight: 600;
      text-decoration: none;
      border-radius: 8px;
      transition: background-color 0.2s ease;
      font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
    }
    
    .cta-bottom-btn a:hover {
      background-color: #F5F5F5;
    }
    
    .cta-bottom-btn a:active {
      background-color: #EEEEEE;
    }
    
    /* ëª¨ë°”ì¼ ë°˜ì‘í˜• */
    @media (max-width: 768px) {
      .notion-container {
        padding-bottom: 120px;
      }
      
      .kakao-channel-btn {
        width: 50px;
        height: 50px;
        bottom: 100px;
        right: 15px;
      }
      
      .kakao-channel-icon {
        font-size: 20px;
      }
      
      .cta-bottom-btn {
        padding: 16px;
      }
      
      .cta-bottom-btn a {
        font-size: 16px;
        padding: 14px 24px;
        width: calc(100% - 32px);
        max-width: 100%;
      }
      
      body {
        padding-bottom: 90px;
      }
      
      .notion-fallback-btn {
        font-size: 18px;
        padding: 16px 32px;
      }
      
      .notion-fallback-text {
        font-size: 16px;
      }
    }
    
    /* ì‘ì€ ëª¨ë°”ì¼ ê¸°ê¸° */
    @media (max-width: 480px) {
      .kakao-channel-btn {
        width: 48px;
        height: 48px;
        bottom: 90px;
        right: 12px;
      }
      
      .kakao-channel-icon {
        font-size: 18px;
      }
      
      .cta-bottom-btn a {
        font-size: 15px;
        padding: 12px 20px;
      }
    }
    
    /* ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ */
    @keyframes pulse {
      0%, 100% {
        transform: scale(1);
        opacity: 1;
      }
      50% {
        transform: scale(1.1);
        opacity: 0.8;
      }
    }
  </style>
</head>
<body>
  <!-- ë…¸ì…˜ í˜ì´ì§€ ì»¨í…Œì´ë„ˆ -->
  <div class="notion-container">
    <!-- ì—¬ëŸ¬ ë°©ë²•ìœ¼ë¡œ ë…¸ì…˜ í˜ì´ì§€ ì„ë² ë“œ ì‹œë„ -->
    <iframe 
      src="https://lean-rock-3c5.notion.site/2a1606bd224380ff9de5eaf562748ad4"
      class="notion-embed"
      frameborder="0"
      allow="fullscreen"
      allowfullscreen
      scrolling="yes"
      id="notion-frame"
      style="width: 100%; height: 100%; border: none;"
    ></iframe>
    
    <!-- object íƒœê·¸ë¡œ ì‹œë„ -->
    <object 
      data="https://lean-rock-3c5.notion.site/2a1606bd224380ff9de5eaf562748ad4"
      type="text/html"
      style="width: 100%; height: 100%; display: none;"
      id="notion-object"
    ></object>
    
    <!-- embed íƒœê·¸ë¡œ ì‹œë„ -->
    <embed 
      src="https://lean-rock-3c5.notion.site/2a1606bd224380ff9de5eaf562748ad4"
      type="text/html"
      style="width: 100%; height: 100%; display: none;"
      id="notion-embed"
    ></embed>
    
    <!-- ëŒ€ì²´ í™”ë©´ (ì´ˆê¸°ì—ëŠ” ìˆ¨ê¹€) -->
    <div class="notion-fallback" id="notion-fallback" style="display: none;">
      <div style="margin-bottom: 30px;">
        <div style="width: 100px; height: 100px; margin: 0 auto 30px; background: linear-gradient(135deg, #FFD966 0%, #FFE699 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 50px; box-shadow: 0 8px 24px rgba(255, 217, 102, 0.3); animation: pulse 2s infinite;">
          ğŸ“„
        </div>
        <p class="notion-fallback-text">ë…¸ì…˜ í˜ì´ì§€ë¥¼ í™•ì¸í•˜ì„¸ìš”</p>
        <p class="notion-fallback-subtext">ë…¸ì…˜ í˜ì´ì§€ê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì•„ë˜ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ í™•ì¸í•˜ì„¸ìš”.</p>
      </div>
      <a 
        href="https://lean-rock-3c5.notion.site/2a1606bd224380ff9de5eaf562748ad4" 
        target="_blank" 
        rel="noopener noreferrer"
        class="notion-fallback-btn"
        id="notion-link-btn"
      >
        ğŸ“„ ë…¸ì…˜ í˜ì´ì§€ ë³´ê¸°
      </a>
    </div>
  </div>
  
  <!-- ì¹´ì¹´ì˜¤í†¡ ì±„ë„ ë²„íŠ¼ -->
  <a href="https://pf.kakao.com/_xxxx" target="_blank" rel="noopener noreferrer" class="kakao-channel-btn" aria-label="ì¹´ì¹´ì˜¤í†¡ ì±„ë„">
    <span class="kakao-channel-icon">Ch</span>
  </a>
  
  <!-- í•˜ë‹¨ CTA ë²„íŠ¼ -->
  <div class="cta-bottom-btn">
    <a href="https://naver.me/xxxx" target="_blank" rel="noopener noreferrer">
      12ì›”, í•©ë¥˜í•˜ê³  ì‹¶ë‹¤ë©´?
    </a>
  </div>
  
  <script>
    // ë…¸ì…˜ í˜ì´ì§€ URL
    const notionUrl = 'https://lean-rock-3c5.notion.site/2a1606bd224380ff9de5eaf562748ad4';
    const notionFrame = document.getElementById('notion-frame');
    const notionObject = document.getElementById('notion-object');
    const notionEmbed = document.getElementById('notion-embed');
    const notionFallback = document.getElementById('notion-fallback');
    const notionLinkBtn = document.getElementById('notion-link-btn');
    
    let loadAttempted = false;
    let checkInterval;
    
    // iframe ë¡œë“œ ì‹œë„
    notionFrame.addEventListener('load', function() {
      console.log('iframe ë¡œë“œ ì´ë²¤íŠ¸ ë°œìƒ');
      checkIfLoaded();
    });
    
    notionFrame.addEventListener('error', function() {
      console.log('iframe ì˜¤ë¥˜ ë°œìƒ');
      tryAlternatives();
    });
    
    // object ë¡œë“œ ì‹œë„
    notionObject.addEventListener('load', function() {
      console.log('object ë¡œë“œ ì´ë²¤íŠ¸ ë°œìƒ');
      checkIfLoaded();
    });
    
    // embed ë¡œë“œ ì‹œë„
    notionEmbed.addEventListener('load', function() {
      console.log('embed ë¡œë“œ ì´ë²¤íŠ¸ ë°œìƒ');
      checkIfLoaded();
    });
    
    // ë¡œë“œ ì—¬ë¶€ í™•ì¸ í•¨ìˆ˜
    function checkIfLoaded() {
      setTimeout(function() {
        try {
          // iframe ì²´í¬
          const frameDoc = notionFrame.contentDocument || notionFrame.contentWindow.document;
          const frameBody = frameDoc.body;
          const frameText = frameBody ? frameBody.innerText.toLowerCase() : '';
          
          if (frameText && !frameText.includes('refused') && !frameText.includes('denied') && frameText.length > 50) {
            console.log('ë…¸ì…˜ í˜ì´ì§€ê°€ iframeì— ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!');
            notionFrame.style.display = 'block';
            notionFallback.style.display = 'none';
            return;
          }
          
          // ì˜¤ë¥˜ ë©”ì‹œì§€ê°€ ìˆìœ¼ë©´ ëŒ€ì²´ ë°©ë²• ì‹œë„
          if (frameText.includes('refused') || frameText.includes('denied')) {
            console.log('iframeì— ë¡œë“œ ì‹¤íŒ¨ - ëŒ€ì²´ ë°©ë²• ì‹œë„');
            tryAlternatives();
          }
        } catch (e) {
          // CORS ì˜¤ë¥˜ - ì‹¤ì œë¡œëŠ” ë¡œë“œë˜ì—ˆì„ ìˆ˜ ìˆìŒ
          console.log('CORS ì˜¤ë¥˜ (í•˜ì§€ë§Œ í˜ì´ì§€ëŠ” ë¡œë“œë˜ì—ˆì„ ìˆ˜ ìˆìŒ)');
          // 3ì´ˆ í›„ì—ë„ í™•ì¸ì´ ì•ˆ ë˜ë©´ ëŒ€ì²´ í™”ë©´ í‘œì‹œ
          setTimeout(function() {
            if (!loadAttempted) {
              tryAlternatives();
            }
          }, 3000);
        }
      }, 2000);
    }
    
    // ëŒ€ì²´ ë°©ë²• ì‹œë„
    function tryAlternatives() {
      if (loadAttempted) return;
      loadAttempted = true;
      
      console.log('ëŒ€ì²´ ë°©ë²• ì‹œë„ ì¤‘...');
      
      // object íƒœê·¸ ì‹œë„
      notionFrame.style.display = 'none';
      notionObject.style.display = 'block';
      
      setTimeout(function() {
        // objectë„ ì‹¤íŒ¨í•˜ë©´ embed ì‹œë„
        notionObject.style.display = 'none';
        notionEmbed.style.display = 'block';
        
        setTimeout(function() {
          // ëª¨ë“  ë°©ë²• ì‹¤íŒ¨ ì‹œ ëŒ€ì²´ í™”ë©´ í‘œì‹œ
          notionEmbed.style.display = 'none';
          notionFallback.style.display = 'flex';
          console.log('ëª¨ë“  ì„ë² ë“œ ë°©ë²• ì‹¤íŒ¨ - ëŒ€ì²´ í™”ë©´ í‘œì‹œ');
        }, 2000);
      }, 2000);
    }
    
    // ì´ˆê¸° ì²´í¬ (5ì´ˆ í›„)
    setTimeout(function() {
      if (!loadAttempted) {
        tryAlternatives();
      }
    }, 5000);
    
    // ë²„íŠ¼ í´ë¦­ ì‹œ ë…¸ì…˜ í˜ì´ì§€ ì—´ê¸°
    if (notionLinkBtn) {
      notionLinkBtn.addEventListener('click', function(e) {
        e.preventDefault();
        window.open(notionUrl, '_blank');
      });
    }
  </script>
</body>
</html>

